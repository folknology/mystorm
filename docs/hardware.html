<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Hardware - LogicBus-Labnotes</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="setup.html"><strong aria-hidden="true">2.</strong> Setup</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="hardware.html" class="active"><strong aria-hidden="true">2.1.</strong> Hardware</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="qspimem.html"><strong aria-hidden="true">2.1.1.</strong> QSPIMEM</a></li><li class="chapter-item expanded "><a href="usbcdc.html"><strong aria-hidden="true">2.1.2.</strong> USB-CDC</a></li><li class="chapter-item expanded "><a href="usbpd.html"><strong aria-hidden="true">2.1.3.</strong> Power Delivery</a></li></ol></li><li class="chapter-item expanded "><a href="tools.html"><strong aria-hidden="true">2.2.</strong> Tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="yosys.html"><strong aria-hidden="true">2.2.1.</strong> Yosys</a></li><li class="chapter-item expanded "><a href="amaranth.html"><strong aria-hidden="true">2.2.2.</strong> Amaranth</a></li><li class="chapter-item expanded "><a href="blackcrab.html"><strong aria-hidden="true">2.2.3.</strong> BlackCrab</a></li></ol></li><li class="chapter-item expanded "><a href="Tiles.html"><strong aria-hidden="true">2.3.</strong> Tiles</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="blinky.html"><strong aria-hidden="true">2.3.1.</strong> Blinky</a></li><li class="chapter-item expanded "><a href="Seven_Segment.html"><strong aria-hidden="true">2.3.2.</strong> Seven Segment</a></li><li class="chapter-item expanded "><a href="AV.html"><strong aria-hidden="true">2.3.3.</strong> Audio &amp; Video</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="audio.html"><strong aria-hidden="true">2.3.3.1.</strong> Audio</a></li><li class="chapter-item expanded "><a href="video.html"><strong aria-hidden="true">2.3.3.2.</strong> Video</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="refernce.html"><strong aria-hidden="true">3.</strong> Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="pll.html"><strong aria-hidden="true">3.1.</strong> PLL</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">LogicBus-Labnotes</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="icelogicbus-hardware"><a class="header" href="#icelogicbus-hardware">IceLogicBus Hardware</a></h1>
<p>The IceLogicBus (ILB) Hardware consists of modular tiles fitted to the main carrier board as required for the given development project. Onboard the main ILB carrier board is the FPGA and power-train (USB-C-PD/XT30). Mounted on top of this is the BlackEdge Controller (BEC) board with microcontroller, SPI Flash, blades and connectors.</p>
<h2 id="connectivity--power"><a class="header" href="#connectivity--power">Connectivity &amp; Power</a></h2>
<p>The BEC has a USB-C connector configured as a USB CDC serial device running <a href="./qspimem.html">QSPIMEM</a> under <a href="./blackcrab.html">BlackCrab</a> Rust based firmware . This allows programming of the microcontroller, FPGA and flash, along with uart and monitoring features depending on the required mode.</p>
<p>There is a second Usb-C (Usb-PD) Connector on the ILB which operates as a high Power over Usb 
delivery system operating from 5 to 20 volts in order to be able to power a large range of modular tiles from simple led drivers through to small motor and power-train devices. An auxiliary XT30 power connector is also  provided for the more extreme power delivery requirements across the tiles from sources such as batteries etc.</p>
<h2 id="operating-modes"><a class="header" href="#operating-modes">Operating Modes</a></h2>
<p>Mode selection is achieved via the 'Mode' button, if depressed on power up it switches the device into Usb-DFU mode which enables the firmware to be updated from the PC host over Usb. Normal startup places the device into <em><a href="./qspimem.html">QSPIMEM</a></em>. In QSPIMEM mode the device intelligently listens to Usb traffic for new ILB applications, FPGA updates whilst concurrently relaying monitor, logging and error information.</p>
<p>More advanced functionality can be achieved over USB via _<a href="./qspimem.html">QSPIMEM</a> including uploads, downloads and data transfers.</p>
<h2 id="status-and-feedback"><a class="header" href="#status-and-feedback">Status and feedback</a></h2>
<p>There is an RGB led on board which can provide feedback and status of the board's mode and operation. In normal mode this is unlit. if and application or FPGA image is uploaded it will flicker green and amber and then extinguish on successful completion. If it remains red it will normally be due to either a hardware fault or bad FPGA synthesis. A third state is possible when the FPGA synthesis drives the blue part of the led for example in a blinky test, the colour will the blink blue. The BEC also has an RGB led which is normally green (power), the other leds can be used to indicate activity and status from the <a href="./blackcrab.html">BlackCrab</a> firmware.</p>
<p>There is also a 1.27mm pitch 10pin, Arm SWD debug connector if you need to debug what is <a href="./blackcrab.html">BlackCrab</a> running on the BEC.</p>
<p>Setting up IceLogicBus - Drivers and firmware:</p>
<ul>
<li><a href="./qspimem.html">QSPIMEM</a></li>
<li><a href="./usbcdc.html">USB-CDC</a></li>
<li><a href="./usbpd.html">Power Delivery</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="setup.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="qspimem.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="setup.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="qspimem.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
